<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Christian Games Online</title>

  <!-- Premium Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Phosphor Icons -->
  <script src="https://unpkg.com/@phosphor-icons/web"></script>

  <style>
    :root {
      /* --- DARK THEME ONLY --- */
      --bg-body: #0F172A;       /* Deep Navy Blue */
      --bg-card: #1E293B;       /* Lighter Navy for cards */
      --bg-nav-mobile: rgba(30, 41, 59, 0.95); /* Glass effect on dark */
      --bg-subtle: #334155;     /* Subtle highlight for dark mode */
      
      --primary: #818cf8;       /* Soft Indigo/Purple for dark mode */
      --primary-dim: rgba(129, 140, 248, 0.2);
      --accent-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
      
      --text-main: #F8FAFC;     /* Off-white text */
      --text-muted: #94A3B8;    /* Muted gray text */
      
      --border: #334155;        /* Dark border */
      
      --success: #34D399;       /* Bright Green */
      --success-bg: rgba(5, 150, 105, 0.2);
      --error: #F87171;         /* Bright Red */
      --error-bg: rgba(220, 38, 38, 0.2);

      /* Shadows */
      --shadow-card: 0 4px 20px -2px rgba(0, 0, 0, 0.5);
      --shadow-nav: 0 -4px 20px rgba(0,0,0,0.3);
      
      --radius: 24px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: var(--bg-body);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding-bottom: 100px; /* Space for mobile nav */
    }

    /* --- HEADER --- */
    header {
      text-align: center;
      padding: 30px 20px 10px;
    }

    header h1 {
      font-family: 'Outfit', sans-serif;
      font-size: 1.8rem;
      font-weight: 800;
      background: var(--accent-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 4px;
    }

    header p { color: var(--text-muted); font-size: 0.9rem; }

    /* --- NAVIGATION (Hybrid) --- */
    .nav-wrapper {
      position: fixed; bottom: 0; left: 0; width: 100%;
      background: var(--bg-nav-mobile);
      backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      border-top: 1px solid var(--border);
      z-index: 100;
      padding-bottom: env(safe-area-inset-bottom);
      box-shadow: var(--shadow-nav);
    }

    .nav-container {
      display: flex; justify-content: space-around;
      padding: 8px 10px; max-width: 800px; margin: 0 auto;
    }

    .nav-btn {
      background: transparent; border: none; color: var(--text-muted);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      gap: 4px; padding: 6px; flex: 1;
      font-size: 0.65rem; font-weight: 600; text-transform: uppercase;
      cursor: pointer; transition: 0.2s; border-radius: 12px;
    }
    
    .nav-btn i { font-size: 1.5rem; transition: 0.2s; margin-bottom: 2px;}
    .nav-btn.active { color: var(--primary); }
    .nav-btn.active i { transform: translateY(-3px); font-weight: bold; }

    /* DESKTOP NAV (Top Menu) */
    @media (min-width: 768px) {
      body { padding-bottom: 40px; }
      header { padding-top: 40px; }
      
      .nav-wrapper {
        position: sticky; top: 20px; bottom: auto;
        background: var(--bg-card); border: 1px solid var(--border);
        border-radius: 99px; max-width: fit-content; margin: 0 auto 30px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        padding: 4px; z-index: 50;
      }
      .nav-container { padding: 0; gap: 4px; }
      .nav-btn {
        flex-direction: row; font-size: 0.85rem; padding: 10px 20px;
        border-radius: 99px; gap: 8px; flex: initial;
      }
      .nav-btn i { font-size: 1.1rem; margin: 0; transform: none !important; }
      .nav-btn:hover { background: var(--bg-subtle); }
      .nav-btn.active { background: var(--primary); color: white; box-shadow: 0 2px 10px rgba(129, 140, 248, 0.4); }
    }

    /* --- GAME CONTAINER --- */
    main {
      flex: 1; width: 100%; max-width: 600px; margin: 0 auto;
      padding: 0 20px;
    }

    #game-container {
      background: var(--bg-card);
      border-radius: var(--radius);
      padding: 24px;
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border);
      min-height: 300px;
      animation: fadeUp 0.4s ease;
      position: relative;
    }

    @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* --- UI ELEMENTS --- */
    h2 { font-family: 'Outfit', sans-serif; color: var(--primary); margin-bottom: 16px; font-size: 1.5rem; text-align: center; }
    h3 { font-family: 'Outfit', sans-serif; color: var(--text-main); margin-bottom: 20px; font-size: 1.15rem; line-height: 1.5; font-weight: 600; text-align: center; }
    
    .play-again {
      background: var(--accent-gradient); color: white;
      border: none; padding: 14px 24px; border-radius: 16px;
      font-weight: 700; font-size: 0.95rem; cursor: pointer;
      width: 100%; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.25);
      transition: transform 0.1s; margin-top: 20px;
      display: flex; align-items: center; justify-content: center; gap: 8px;
    }
    .play-again:active { transform: scale(0.97); }

    /* MEMORY GAME */
    .memory-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 15px; }
    .memory-card {
      aspect-ratio: 1;
      background: var(--bg-subtle);
      border-radius: 12px;
      display: flex; justify-content: center; align-items: center;
      font-size: 1.8rem; cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s;
    }
    .memory-card.matched { background: var(--success-bg); border-color: var(--success); }
    .memory-card:not(.matched):active { transform: scale(0.95); }

    /* QUIZ */
    .quiz-option {
      background: var(--bg-subtle); padding: 16px; border-radius: 14px;
      margin-bottom: 10px; cursor: pointer; border: 1px solid transparent;
      font-weight: 500; transition: 0.2s; 
    }
    .quiz-option:hover { border-color: var(--primary); background: #2A3649; }

    /* WORD SEARCH */
    .wordsearch-grid {
      display: grid; grid-template-columns: repeat(8, 1fr); gap: 4px; margin: 20px auto;
      max-width: 100%; aspect-ratio: 1;
    }
    .wordsearch-cell {
      background: var(--bg-subtle); border-radius: 6px;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 0.9rem; cursor: pointer; user-select: none;
      transition: background 0.1s;
    }
    .wordsearch-cell.selected { background: var(--primary); color: white; }

    /* HANGMAN */
    .forca-word { 
      font-family: 'Outfit', monospace; font-size: 1.8rem; 
      letter-spacing: 0.3em; text-align: center; margin: 30px 0; 
      font-weight: 700; color: var(--primary); word-break: break-word;
    }
    .forca-letters { display: flex; flex-wrap: wrap; justify-content: center; gap: 6px; }
    .forca-letters button {
      width: 36px; height: 42px; border: 1px solid var(--border); border-radius: 8px;
      background: var(--bg-subtle); font-weight: 700; cursor: pointer; color: var(--text-main);
      font-size: 1rem;
    }
    .forca-letters button.used { opacity: 0.3; background: #111; cursor: default; }

    /* PROMISE BOX */
    .caixa-wrapper { display: flex; flex-direction: column; align-items: center; gap: 20px; }
    
    .caixa-roxa {
      width: 100%; height: 180px;
      background: var(--accent-gradient);
      border-radius: 20px;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      cursor: pointer; transition: transform 0.2s;
      color: white; text-align: center;
      box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
    }
    .caixa-roxa:active { transform: scale(0.98); }
    .caixa-roxa i { font-size: 3rem; margin-bottom: 10px; opacity: 0.9; }

    .carta {
      width: 100%;
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: 20px; padding: 30px 20px;
      text-align: center; display: none;
      animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    
    .carta.mostrar { display: block; }
    
    .verso { font-size: 1.25rem; font-weight: 600; line-height: 1.5; margin-bottom: 10px; color: var(--text-main); }
    .ref { color: var(--primary); font-weight: 700; font-size: 0.9rem; background: var(--bg-subtle); padding: 4px 12px; border-radius: 99px; display: inline-block; margin-bottom: 20px; }

    .btn-whatsapp {
      background: #25D366; color: white; width: 100%; padding: 14px;
      border-radius: 14px; border: none; font-weight: 700; cursor: pointer;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      font-size: 0.95rem; box-shadow: 0 4px 10px rgba(37, 211, 102, 0.2);
    }

    /* Empty State */
    .empty-state { text-align: center; padding: 40px 0; color: var(--text-muted); }
    .empty-state i { font-size: 4rem; margin-bottom: 16px; color: var(--primary-dim); color: var(--primary); opacity: 0.3; }

  </style>
</head>
<body>

  <header>
    <h1>Christian Games</h1>
    <p>Strengthen your faith while having fun üôè</p>
  </header>

  <nav class="nav-wrapper">
    <div class="nav-container">
      <button class="nav-btn" onclick="switchGame('memory', this)">
        <i class="ph ph-brain"></i> <span>Memory</span>
      </button>
      <button class="nav-btn" onclick="switchGame('quiz', this)">
        <i class="ph ph-question"></i> <span>Quiz</span>
      </button>
      <button class="nav-btn" onclick="switchGame('wordsearch', this)">
        <i class="ph ph-magnifying-glass"></i> <span>Hunt</span>
      </button>
      <button class="nav-btn" onclick="switchGame('verses', this)">
        <i class="ph ph-scroll"></i> <span>Verses</span>
      </button>
      <button class="nav-btn" onclick="switchGame('forca', this)">
        <i class="ph ph-text-t"></i> <span>Hangman</span>
      </button>
      <button class="nav-btn" onclick="switchGame('caixinha', this)">
        <i class="ph ph-gift"></i> <span>Promise</span>
      </button>
    </div>
  </nav>

  <main>
    <div id="game-container">
      <div class="empty-state">
        <i class="ph-duotone ph-game-controller"></i>
        <p>Choose a game from the menu to start.</p>
      </div>
    </div>
  </main>

<script>
/* Helper for Navigation */
function switchGame(game, btn) {
  // Update visual state of buttons
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  if(btn) btn.classList.add('active');
  
  // Load the game
  loadGame(game);
}

function loadGame(game) {
  const c = document.getElementById("game-container");
  
  // Reset animation
  c.style.animation = 'none';
  c.offsetHeight; /* trigger reflow */
  c.style.animation = 'fadeUp 0.4s ease';
  
  c.innerHTML = "";
  
  if (game === "memory") return initMemory(c);
  if (game === "quiz") return initQuiz(c);
  if (game === "wordsearch") return initWordSearch(c);
  if (game === "verses") return initVersesQuiz(c);
  if (game === "forca") return initForca(c);
  if (game === "caixinha") return initCaixinha(c);
}

/* ==========================================================
   1 ‚Äì MEMORY GAME
========================================================== */
function initMemory(root) {
  const emojis = ["‚úù","üïä","üìñ","üôè","üåü","üïØ","‚ù§Ô∏è","ü§ç"];
  const deck = [...emojis, ...emojis].sort(() => Math.random() - 0.5);

  const header = document.createElement("h2");
  header.innerText = "Memory Game";
  root.appendChild(header);

  const grid = document.createElement("div");
  grid.className = "memory-grid";

  let first = null, second = null, locked = false, matches = 0;

  deck.forEach(symbol => {
    const card = document.createElement("div");
    card.className = "memory-card";
    card.innerText = "‚ùì";
    card.dataset.symbol = symbol;

    card.onclick = () => {
      if (locked || card.classList.contains("matched") || card === first) return; 
      card.innerText = symbol;
      card.style.background = "#fff"; 
      card.style.borderColor = "var(--primary)";
      card.style.color = "#000"; // Ensure emoji is visible on white

      if (!first) first = card;
      else {
        second = card;
        locked = true;

        setTimeout(() => {
          if (first.dataset.symbol === second.dataset.symbol) {
            first.classList.add("matched");
            second.classList.add("matched");
            // Reset styles for matched cards to use CSS class styles
            first.style.background = ""; first.style.borderColor = ""; first.style.color = "";
            second.style.background = ""; second.style.borderColor = ""; second.style.color = "";
            
            matches += 2;
          } else {
            first.innerText = "‚ùì"; first.style.background = ""; first.style.borderColor = ""; first.style.color = "";
            second.innerText = "‚ùì"; second.style.background = ""; second.style.borderColor = ""; second.style.color = "";
          }

          first = second = null;
          locked = false;

          if (matches === deck.length) {
            root.innerHTML = `
              <div style="text-align:center; padding:20px;">
                <i class="ph-fill ph-trophy" style="font-size:4rem; color:var(--primary); margin-bottom:10px;"></i>
                <h2>You Completed It!</h2>
                <button class="play-again" onclick="loadGame('memory')">üîÑ Play Again</button>
              </div>`;
          }
        }, 500);
      }
    };

    grid.appendChild(card);
  });

  root.appendChild(grid);
}

/* ==========================================================
   2 ‚Äì BIBLE QUIZ
========================================================== */
const quizData = [
  { q: "Who built the Ark?", a: ["Moses","Abraham","Noah","David"], c:2 },
  { q: "Who parted the Red Sea?", a:["Moses","Joshua","Elijah","Peter"], c:0 },
  { q: "Where was Jesus born?", a:["Bethlehem","Nazareth","Jerusalem","Samaria"], c:0 },
  { q: "Who defeated Goliath?", a:["Saul","David","Samuel","Samson"], c:1 },
  { q: "How many Gospels are there?", a:["2","3","4","5"], c:2 },
  { q: "Who betrayed Jesus?", a:["Peter","Judas","James","Andrew"], c:1 },
  { q: "What is the 1st book of the Bible?", a:["Genesis","Exodus","Leviticus","Psalms"], c:0 },
  { q: "Who was swallowed by a big fish?", a:["Jonah","Daniel","Joseph","Elijah"], c:0 },
  { q: "Who multiplied bread and fish?", a:["Jesus","Paul","Peter","Isaiah"], c:0 },
  { q: "Who denied Jesus three times?", a:["Peter","Thomas","Judas","John"], c:0 },
  { q: "Who interpreted dreams in Egypt?", a:["Joseph","David","Solomon","Samuel"], c:0 },
  { q: "What is the last book of the Bible?", a:["Romans","Galatians","Revelation","Jude"], c:2 },
  { q: "Who wrote most NT letters?", a:["Peter","James","Paul","John"], c:2 },
  { q: "Who succeeded Moses?", a:["Joshua","Elijah","Samuel","David"], c:0 },
  { q: "Who asked God for wisdom?", a:["Solomon","Saul","David","Eli"], c:0 },
  { q: "What was Peter's profession?", a:["Fisherman","Carpenter","Shepherd","Blacksmith"], c:0 },
  { q: "Who dreamed of a ladder to heaven?", a:["Jacob","Isaac","Joseph","Esau"], c:0 },
  { q: "Who was thrown into the lion's den?", a:["Daniel","Ezekiel","Isaiah","Jeremiah"], c:0 },
  { q: "Who wrote many Psalms?", a:["David","Solomon","Moses","Nehemiah"], c:0 },
  { q: "Who was called 'Friend of God'?", a:["Abraham","Noah","Isaac","Jacob"], c:0 }
];

function initQuiz(root){
  let i=0, score=0;

  function load(){
    root.innerHTML = `
      <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-size:0.8rem; color:var(--text-muted);">
        <span>Question ${i+1}/${quizData.length}</span>
        <span>Score: ${score}</span>
      </div>
      <h3>${quizData[i].q}</h3>
      <div id="options-container"></div>
    `;
    
    const container = document.getElementById("options-container");
    
    quizData[i].a.forEach((text, idx)=>{
      const opt = document.createElement("div");
      opt.className = "quiz-option";
      opt.innerText = text;

      opt.onclick = () => {
        if (idx === quizData[i].c) { 
          opt.style.background = "var(--success-bg)"; 
          opt.style.borderColor = "var(--success)";
          opt.style.color = "#34D399";
          score++; 
        } else {
          opt.style.background = "var(--error-bg)";
          opt.style.borderColor = "var(--error)";
          opt.style.color = "#F87171";
        }

        setTimeout(()=>{
          i++;
          if (i < quizData.length) load();
          else root.innerHTML = `
          <div style="text-align:center; padding:20px;">
            <i class="ph-fill ph-star" style="font-size:4rem; color:#EAB308; margin-bottom:10px;"></i>
            <h2>Quiz Complete!</h2>
            <p style="font-size:1.2rem; margin-bottom:20px;">You got <strong>${score}</strong> out of ${quizData.length} right.</p>
            <button class='play-again' onclick="loadGame('quiz')">üîÑ Play Again</button>
          </div>`;
        }, 650);
      };
      container.appendChild(opt);
    });
  }
  load();
}

/* ==========================================================
   3 ‚Äì WORD SEARCH
========================================================== */
function initWordSearch(root){
  const words = ["FAITH","LOVE","PEACE","GOD"];
  const size = 8;
  const board = Array.from({length:size},()=>Array(size).fill(null));
  const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ";

  function placeWord(word){
    let placed=false, tries=0;
    while(!placed && tries<200){
      tries++;
      const dirs=[{x:1,y:0},{x:0,y:1},{x:1,y:1},{x:1,y:-1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1}];
      const d=dirs[Math.floor(Math.random()*dirs.length)];
      const sx=Math.floor(Math.random()*size);
      const sy=Math.floor(Math.random()*size);
      let ok=true;
      for(let i=0;i<word.length;i++){
        const x=sx+d.x*i, y=sy+d.y*i;
        if(x<0||y<0||x>=size||y>=size){ ok=false; break; }
        if(board[y][x] && board[y][x]!==word[i]){ ok=false; break; }
      }
      if(!ok) continue;
      for(let i=0;i<word.length;i++){
        const x=sx+d.x*i, y=sy+d.y*i;
        board[y][x]=word[i];
      }
      placed=true;
    }
  }

  words.forEach(placeWord);

  for(let y=0;y<size;y++){
    for(let x=0;x<size;x++){
      if(!board[y][x]) board[y][x]=letters[Math.floor(Math.random()*letters.length)];
    }
  }

  let found=new Set();
  
  root.innerHTML = `
    <h2>Word Search</h2>
    <div style="text-align:center; font-size:0.9rem; margin-bottom:10px; color:var(--text-muted);">
       Find: <strong style="color:var(--primary)">FAITH, LOVE, PEACE, GOD</strong>
    </div>
  `;
  
  const grid=document.createElement("div");
  grid.className="wordsearch-grid";

  for(let y=0;y<size;y++){
    for(let x=0;x<size;x++){
      const cell=document.createElement("div");
      cell.className="wordsearch-cell";
      cell.innerText=board[y][x];

      cell.onclick=()=>{
        // Toggle selection allowing user to correct mistakes
        cell.classList.toggle("selected");
        
        // Check for words
        words.forEach(w=>{ 
            if(!found.has(w) && checkWord(w)) found.add(w); 
        });
        
        if(found.size===words.length){
          root.innerHTML=`
            <div style="text-align:center; padding:20px;">
                <i class="ph-fill ph-check-circle" style="font-size:4rem; color:var(--success); margin-bottom:10px;"></i>
                <h2>Congratulations!</h2>
                <p>You found all the words.</p>
                <button class="play-again" onclick="loadGame('wordsearch')">üîÑ Play Again</button>
            </div>`;
        }
      };
      grid.appendChild(cell);
    }
  }

  function checkWord(word){
    const chars=word.split("");
    for(let y=0;y<size;y++){
      for(let x=0;x<size;x++){
        const dirs=[{x:1,y:0},{x:0,y:1},{x:1,y:1},{x:1,y:-1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1}];
        for(const d of dirs){
          let ok=true;
          for(let i=0;i<chars.length;i++){
            const nx=x+d.x*i, ny=y+d.y*i;
            if(nx<0||ny<0||nx>=size||ny>=size){ ok=false; break; }
            const c=grid.children[ny*size+nx];
            if(!c.classList.contains("selected") || c.innerText!==chars[i]){ ok=false; break; }
          }
          if(ok) return true;
        }
      }
    }
    return false;
  }

  root.appendChild(grid);
}

/* ==========================================================
   4 ‚Äì VERSES QUIZ
========================================================== */
const versesData = [
  { p: "The Lord is my shepherd...", a:["I shall not want.","and He will abandon me.","and I shall fear."], c:0 },
  { p: "I can do all things...", a:["through Christ who strengthens me.","if I really want to.","when I don't fail."], c:0 },
  { p: "God is love...", a:["and he who abides in love abides in God.","and He rejects everyone.","and He is unfair."], c:0 },
  { p: "Love covers...", a:["a multitude of sins.","only small mistakes.","only past sins."], c:0 },
  { p: "Faith is the substance...", a:["of things hoped for.","of fear.","of doubt."], c:0 },
  { p: "Call to me...", a:["and I will answer you.","and I will ignore you.","and I will confuse you."], c:0 },
  { p: "In the world you will have tribulation...", a:["but be of good cheer.","because you are alone.","so give up."], c:0 },
  { p: "I am the way...", a:["the truth, and the life.","one of the ways.","just a prophet."], c:0 },
  { p: "The joy of the Lord...", a:["is your strength.","is temporary.","is not real."], c:0 },
  { p: "Blessed are the meek...", a:["for they shall inherit the earth.","for they shall have no problems.","for they shall be forgotten."], c:0 },
  { p: "Seek first the Kingdom of God...", a:["and all these things shall be added to you.","and nothing will be given.","and lose everything."], c:0 },
  { p: "God is our refuge and strength...", a:["a very present help in trouble.","distant in hard times.","only sometimes."], c:0 },
  { p: "Commit your way to the Lord...", a:["trust also in Him.","and remain worried.","and it will be in vain."], c:0 },
  { p: "The just shall live...", a:["by faith.","by fear.","by their own strength."], c:0 },
  { p: "Blessed are the pure in heart...", a:["for they shall see God.","for they shall be rich.","for they shall have fame."], c:0 },
  { p: "A soft answer...", a:["turns away wrath.","increases anger.","is a waste of time."], c:0 },
  { p: "The Lord is near...", a:["to those who have a broken heart.","to the arrogant.","to the mockers."], c:0 },
  { p: "My grace is sufficient for you...", a:["for My strength is made perfect in weakness.","because nothing will change.","because it doesn't matter."], c:0 },
  { p: "It is more blessed to give...", a:["than to receive.","than to love.","than to live."], c:0 },
  { p: "Your Word is a lamp to my feet...", a:["and a light to my path.","and my opinion.","and tradition."], c:0 }
];

function initVersesQuiz(root){
  let i=0, score=0;
  function load(){
    root.innerHTML=`
      <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-size:0.8rem; color:var(--text-muted);">
        <span>Verse ${i+1}/${versesData.length}</span>
        <span>Score: ${score}</span>
      </div>
      <h3>${versesData[i].p}</h3>
      <div id="v-options"></div>
    `;
    const container = document.getElementById("v-options");
    
    versesData[i].a.forEach((ans,idx)=>{
      const opt=document.createElement("div");
      opt.className="quiz-option";
      opt.innerText=ans;

      opt.onclick=()=>{
        if(idx===versesData[i].c){ 
           opt.style.background="var(--success-bg)"; 
           opt.style.borderColor="var(--success)";
           opt.style.color="#34D399";
           score++; 
        } else {
           opt.style.background="var(--error-bg)";
           opt.style.borderColor="var(--error)";
           opt.style.color="#F87171";
        }

        setTimeout(()=>{
          i++;
          if(i<versesData.length) load();
          else root.innerHTML=`
            <div style="text-align:center; padding:20px;">
                <i class="ph-fill ph-scroll" style="font-size:4rem; color:var(--primary); margin-bottom:10px;"></i>
                <h2>Complete!</h2>
                <p>You got ${score}/${versesData.length} right.</p>
                <button class="play-again" onclick="loadGame('verses')">üîÑ Play Again</button>
            </div>`;
        },650);
      };
      container.appendChild(opt);
    });
  }
  load();
}

/* ==========================================================
   5 ‚Äì HANGMAN
========================================================== */
function initForca(root){

  const words=[
    "FAITH","LOVE","PEACE","CHRIST","JESUS","GRACE","PRAYER","BIBLE",
    "CROSS","SALVATION","MERCY","PROMISE","SPIRIT",
    "GLORY","HALLELUJAH","ISRAEL","JERUSALEM","CHURCH","TRUTH","KINDNESS"
  ];

  const day=new Date().getDate();
  const daily = words[(day-1) % words.length];

  if(!window.forca_used) window.forca_used = new Set();

  function getWord(afterWin){
    if(!afterWin) return daily;
    const pool = words.filter(w => w!==daily && !window.forca_used.has(w));
    if(pool.length===0) window.forca_used.clear();
    const pick = pool[Math.floor(Math.random()*pool.length)];
    window.forca_used.add(pick);
    return pick;
  }

  const secret = getWord(root.dataset.replay==="win");
  delete root.dataset.replay;

  let attempts = 6;
  let correct = new Set();
  let used = new Set();

  root.innerHTML="<h2>Biblical Hangman</h2>";

  const status=document.createElement("p");
  status.style.textAlign="center";
  status.style.color="var(--text-muted)";
  status.style.marginBottom="10px";
  status.innerText=`Attempts left: ${attempts}`;

  const wordDiv=document.createElement("div");
  wordDiv.className="forca-word";

  const letters=document.createElement("div");
  letters.className="forca-letters";

  root.appendChild(status);
  root.appendChild(wordDiv);
  root.appendChild(letters);

  function render(){
    wordDiv.innerText = secret.split("").map(ch => correct.has(ch)?ch:"_").join(" ");
  }

  function end(msg, win){
    const color = win ? "var(--success)" : "var(--error)";
    const replayAction = win ? 
       `document.getElementById('game-container').dataset.replay='win'; loadGame('forca');` 
       : `loadGame('forca')`;
       
    root.innerHTML = `
      <div style="text-align:center; padding:20px;">
        <h2 style="color:${color}">${msg}</h2>
        <p style="margin-bottom:10px;">Word: <strong>${secret}</strong></p>
        <button class="play-again" onclick="${replayAction}">üîÑ Play Again</button>
      </div>
    `;
  }

  "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(l=>{
    const btn=document.createElement("button");
    btn.innerText=l;

    btn.onclick=()=>{
      if(used.has(l)) return;
      used.add(l);
      btn.classList.add("used");

      if(secret.includes(l)){
        secret.split("").forEach(ch=>{
          if(ch===l) correct.add(ch);
        });
      } else {
        attempts--;
        status.innerText=`Attempts left: ${attempts}`;
      }

      render();

      if(secret.split("").every(ch=>correct.has(ch))) end("üéâ You got it!", true);
      else if(attempts<=0) end("üò¢ Game Over!", false);
    };

    letters.appendChild(btn);
  });

  render();
}

/* ==========================================================
   6 ‚Äì PROMISE BOX
========================================================== */
function initCaixinha(root){
  root.innerHTML = `
    <h2>Promise Box</h2>
    <div class="caixa-wrapper">
      <div class="caixa-roxa" onclick="sortearPromessa()">
        <i class="ph-duotone ph-gift"></i>
        <span>Tap to draw<br>a promise</span>
      </div>

      <div id="carta" class="carta">
        <i class="ph-fill ph-quotes" style="font-size:2rem; color:var(--primary); margin-bottom:10px;"></i>
        <div id="verso" class="verso"></div>
        <div id="ref" class="ref"></div>
        <button class="btn-whatsapp" onclick="compartilharPromessa()">
          <i class="ph-logo ph-whatsapp-logo" style="font-size:1.3rem;"></i>
          Share
        </button>
      </div>
    </div>
  `;
}

let promessas = [
  { texto: "The Lord is my shepherd; I shall not want.", ref: "Psalm 23:1" },
  { texto: "I can do all things through Christ who strengthens me.", ref: "Philippians 4:13" },
  { texto: "Fear not, for I am with you.", ref: "Isaiah 41:10" },
  { texto: "Commit your way to the Lord, trust also in Him.", ref: "Psalm 37:5" },
  { texto: "God is our refuge and strength.", ref: "Psalm 46:1" },
  { texto: "Call to Me, and I will answer you.", ref: "Jeremiah 33:3" },
  { texto: "The joy of the Lord is your strength.", ref: "Nehemiah 8:10" },
  { texto: "Weeping may endure for a night, but joy comes in the morning.", ref: "Psalm 30:5" },
  { texto: "A thousand may fall at your side, but it shall not come near you.", ref: "Psalm 91:7" },
  { texto: "He who dwells in the secret place of the Most High shall abide under the shadow of the Almighty.", ref: "Psalm 91:1" },
  { texto: "For I know the plans I have for you.", ref: "Jeremiah 29:11" },
  { texto: "The Lord shall preserve you from all evil.", ref: "Psalm 121:7" },
  { texto: "The peace of God shall guard your hearts.", ref: "Philippians 4:7" },
  { texto: "My grace is sufficient for you.", ref: "2 Corinthians 12:9" },
  { texto: "I will be with you when you pass through the fire.", ref: "Isaiah 43:2" },
  { texto: "Blessed are those who mourn, for they shall be comforted.", ref: "Matthew 5:4" },
  { texto: "Seek first the kingdom of God, and all these things shall be added to you.", ref: "Matthew 6:33" },
  { texto: "If God is for us, who can be against us?", ref: "Romans 8:31" },
  { texto: "All things work together for good to those who love God.", ref: "Romans 8:28" },
  { texto: "The Lord will make you the head and not the tail.", ref: "Deuteronomy 28:13" }
];

let ultimaPromessa = null;

function sortearPromessa(){
  let p;
  do {
    p = promessas[Math.floor(Math.random()*promessas.length)];
  } while(ultimaPromessa && p.texto === ultimaPromessa.texto);

  ultimaPromessa = p;

  document.getElementById("verso").innerText = p.texto;
  document.getElementById("ref").innerText   = p.ref;

  const carta = document.getElementById("carta");
  carta.classList.remove("mostrar");
  void carta.offsetWidth; // trigger reflow
  carta.classList.add("mostrar");
}

function compartilharPromessa(){
  const texto = document.getElementById("verso").innerText;
  const ref   = document.getElementById("ref").innerText;
  const msg = `"${texto}" ‚Äî ${ref}`;
  const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(msg)}`;
  window.open(url,"_blank");
}
</script>

</body>
</html>
